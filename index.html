<!DOCTYPE html>
<html>
  <head>
    <title>Codificador de Palavras</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link rel="icon" type="image/svg" href="assets/Logo.svg" />
    <script>
      function validarEntrada() {
        var entrada = document.getElementById("entrada").value;
        entrada = entrada.toLowerCase().replace(/[^a-z]/g, " ");
        document.getElementById("entrada").value = entrada;
      }

      function codificar() {
        var entrada = document.getElementById("entrada").value;
        var saida = "";
        for (var i = 0; i < entrada.length; i++) {
          var letra = entrada[i];
          if (letra == "e") {
            saida += "enter";
          } else if (letra == "i") {
            saida += "imes";
          } else if (letra == "a") {
            saida += "ai";
          } else if (letra == "o") {
            saida += "ober";
          } else if (letra == "u") {
            saida += "ufat";
          } else {
            saida += letra;
          }
        }
        document.getElementById("saida").innerHTML = saida;
      }

      function decodificar() {
        var entrada = document.getElementById("entrada").value;
        var saida = "";
        for (var i = 0; i < entrada.length; i++) {
          var letra = entrada[i];
          if (letra == "e" && entrada.slice(i, i + 5) == "enter") {
            saida += "e";
            i += 4;
          } else if (letra == "i" && entrada.slice(i, i + 4) == "imes") {
            saida += "i";
            i += 3;
          } else if (letra == "a" && entrada.slice(i, i + 2) == "ai") {
            saida += "a";
            i += 1;
          } else if (letra == "o" && entrada.slice(i, i + 4) == "ober") {
            saida += "o";
            i += 3;
          } else if (letra == "u" && entrada.slice(i, i + 4) == "ufat") {
            saida += "u";
            i += 3;
          } else {
            saida += letra;
          }
        }
        document.getElementById("saida").innerHTML = saida;
      }
      function copiarSaida() {
        var saida = document.getElementById("saida").innerHTML;
        if (saida) {
          navigator.clipboard.writeText(saida);
          alert("Saída copiada para a área de transferência!");
        } else {
          alert("Não há nada para copiar.");
        }
      }
    </script>
  </head>
  <body class="light-bg-100 body-grid">
    <nav>
      <ul>
        <li>
          <a href="">
            <img src="assets/Logo.svg" alt="" />
          </a>
        </li>
      </ul>
    </nav>
    <main class="flex">
      <form>
        <input
          type="text"
          id="entrada"
          oninput="validarEntrada()"
          placeholder="Digite seu texto"
          class="dark-text-300 text-lg"
        />

        <footer>
          <button
            class="dark-bg-300 white-text"
            type="button"
            onclick="codificar()"
          >
            Criptografar
          </button>
          <button
            class="border dark-text-300"
            type="button"
            onclick="decodificar()"
          >
            Descriptografar
          </button>
        </footer>
      </form>
      <aside class="white-bg flex">
        <div class="gray-text-400 text-md" id="saida"></div>
        <button
          class="border dark-text-300"
          type="button"
          onclick="copiarSaida()"
        >
          Copiar
        </button>
      </aside>
    </main>
  </body>
</html>
